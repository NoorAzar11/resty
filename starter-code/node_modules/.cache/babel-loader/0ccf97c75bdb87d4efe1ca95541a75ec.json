{"ast":null,"code":"'use strict';\n\nvar _jsxFileName = \"/home/noor/ASAC/resty/starter-code/src/components/form/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useReducer } from \"react\";\nimport './form.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Form(props) {\n  _s();\n\n  let [displayTextarea, setdisplayTextarea] = useState(false);\n  let [setMethodRESt, setMethod] = useState(\"get\");\n  let [url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\");\n  let [requestBody, setRequestBody] = useState(\"\");\n  const initialState = {\n    api: []\n  };\n  const [state, dispatch] = useReducer(apiReducer, initialState);\n\n  function getHandler(e) {\n    setMethod(e.target.id);\n  }\n\n  function postHandler(e) {\n    setShowPostTextArea(!displayTextarea);\n    setMethod(e.target.id);\n  }\n\n  function updateHandler(e) {\n    setShowPostTextArea(!displayTextarea);\n    setMethod(e.target.id);\n  }\n\n  function deleteHandler(e) {\n    setMethod(e.target.id);\n  }\n\n  let urlHandler = async e => {\n    setUrl(e.target.value);\n  };\n\n  function handleRequestBody(e) {\n    setRequestBody(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const name = e.target.api.value;\n    const data = {\n      method: setMethodRESt,\n      name: name\n    };\n    dispatch(addAction(data));\n    e.target.reset();\n  }\n\n  function apiReducer(state = initialState, action) {\n    const {\n      type,\n      payload\n    } = action;\n\n    switch (type) {\n      case \"ADD_API\":\n        const api = [...state.api, payload.method, payload.name];\n        return {\n          api\n        };\n\n      case \"REMOVE_API\":\n        const peopleWithoutPerson = state.api.filter(api => api !== payload);\n        return {\n          api: peopleWithoutPerson\n        };\n\n      case \"EMPTY_API\":\n        return initialState;\n\n      default:\n        return state;\n    }\n  }\n\n  let addAction = name => {\n    return {\n      type: \"ADD_API\",\n      payload: name\n    };\n  };\n\n  let removeAction = name => {\n    return {\n      type: \"REMOVE_API\",\n      payload: name\n    };\n  };\n\n  let emptyAction = () => {\n    return {\n      type: \"EMPTY_API\"\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: state.api.map((api, indx) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => dispatch(removeAction(api)),\n          children: api\n        }, indx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"URL: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"api\",\n          type: \"text\",\n          onChange: urlHandler,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"submit\",\n          children: \"GO!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(emptyAction()),\n          children: \"Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"methods\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          type: \"button\",\n          id: \"get\",\n          onClick: getHandler,\n          children: \"GET\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          type: \"button\",\n          id: \"post\",\n          onClick: postHandler,\n          children: \" POST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          type: \"button\",\n          id: \"put\",\n          onClick: updateHandler,\n          children: \"  PUT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          type: \"button\",\n          id: \"delete\",\n          onClick: deleteHandler,\n          children: \"DELETE \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), displayTextarea && /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"postAndPut\",\n        rows: \"10\",\n        cols: \"35\",\n        onChange: handleRequestBody\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Form, \"Dd3gBotKkDnN9Ii8KtLpjk6J+Vs=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/home/noor/ASAC/resty/starter-code/src/components/form/index.js"],"names":["React","useState","useReducer","Form","props","displayTextarea","setdisplayTextarea","setMethodRESt","setMethod","url","setUrl","requestBody","setRequestBody","initialState","api","state","dispatch","apiReducer","getHandler","e","target","id","postHandler","setShowPostTextArea","updateHandler","deleteHandler","urlHandler","value","handleRequestBody","handleSubmit","preventDefault","name","data","method","addAction","reset","action","type","payload","peopleWithoutPerson","filter","removeAction","emptyAction","map","indx"],"mappings":"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","sourcesContent":["'use strict'\n\n\n\nimport React, { useState } from 'react';\nimport { useReducer } from \"react\";\nimport './form.scss';\n\n\nfunction Form(props) {\n\n\n  let [displayTextarea, setdisplayTextarea] = useState(false);\n  let [setMethodRESt, setMethod] = useState(\"get\");\n  let [url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\");\n  let [requestBody, setRequestBody] = useState(\"\");\n\n\n\n  const initialState = {\n    api: [],\n  };\n\n  const [state, dispatch] = useReducer(apiReducer, initialState);\n\n  function getHandler(e) {\n    setMethod(e.target.id);\n  }\n\n\n  function postHandler(e) {\n    setShowPostTextArea(!displayTextarea);\n    setMethod(e.target.id);\n  }\n  function updateHandler(e) {\n    setShowPostTextArea(!displayTextarea);\n    setMethod(e.target.id);\n  }\n\n  function deleteHandler(e) {\n    setMethod(e.target.id);\n  }\n\n  let urlHandler = async (e) => {\n    setUrl(e.target.value);\n  };\n\n  function handleRequestBody(e) {\n    setRequestBody(e.target.value);\n  }\n  \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const name = e.target.api.value;\n    const data = {\n      method: setMethodRESt,\n      name: name,\n    };\n    dispatch(addAction(data));\n    e.target.reset();\n  }\n\n  function apiReducer(state = initialState, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case \"ADD_API\":\n        const api = [...state.api, payload.method, payload.name];\n        return { api };\n      case \"REMOVE_API\":\n        const peopleWithoutPerson = state.api.filter((api) => api !== payload);\n        return { api: peopleWithoutPerson };\n      case \"EMPTY_API\":\n        return initialState;\n      default:\n        return state;\n    }\n  }\n\n  let addAction = (name) => {\n    return {\n      type: \"ADD_API\",\n      payload: name,\n    };\n  };\n\n  let removeAction = (name) => {\n    return {\n      type: \"REMOVE_API\",\n      payload: name,\n    };\n  };\n\n  let emptyAction = () => {\n    return {\n      type: \"EMPTY_API\",\n    };\n  };\n\n  return (\n    <>\n      <h1>History</h1>\n      <ul>\n\n        {state.api.map((api, indx) => {\n          return (\n            <li key={indx} onClick={() => dispatch(removeAction(api))}>\n              {api}\n            </li>\n          );\n        })}\n      </ul>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>URL: </span>\n          <input name=\"api\" type=\"text\" onChange={urlHandler} required />\n          <button type=\"submit\" data-testid=\"submit\">\n            GO!\n          </button>\n          <button onClick={() => dispatch(emptyAction())}>Clear All</button>\n        </label>\n        <label className=\"methods\">\n          <button className=\"button\" type=\"button\" id=\"get\" onClick={getHandler}>GET</button>\n          <button className=\"button\" type=\"button\" id=\"post\" onClick={postHandler} > POST</button>\n          <button  className=\"button\"type=\"button\" id=\"put\" onClick={updateHandler}>  PUT</button>\n          <button className=\"button\" type=\"button\"id=\"delete\" onClick={deleteHandler}>DELETE </button>\n        </label>\n        {displayTextarea && (<textarea name=\"postAndPut\"rows=\"10\"cols=\"35\" onChange={handleRequestBody}/>)}\n      </form>\n    </>\n  );\n}\n\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}