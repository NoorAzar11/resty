{"ast":null,"code":"'use strict';\n\nvar _jsxFileName = \"/home/noor/ASAC/resty/starter-code/src/components/form/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useReducer } from \"react\";\nimport './form.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Form(props) {\n  _s();\n\n  let [displayTextarea, setdisplayTextarea] = useState(false);\n  let [crudMethod, setcrudMethod] = useState(\"get\");\n  let [fetchurl, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\");\n  let [reqBody, setRequestBody] = useState(\"\");\n  const initialState = {\n    api: []\n  };\n  const [state, dispatch] = useReducer(apiReducer, initialState);\n\n  function getHandlerMethod(e) {\n    setcrudMethod(e.target.id);\n  }\n\n  function postHandlerMethod(e) {\n    setdisplayTextarea(!displayTextarea);\n    setcrudMethod(e.target.id);\n  }\n\n  function updateHandlerMethod(e) {\n    setdisplayTextarea(!displayTextarea);\n    setcrudMethod(e.target.id);\n  }\n\n  function deleteHandlerMethod(e) {\n    setcrudMethod(e.target.id);\n  }\n\n  let urlHandlerFetching = async e => {\n    setUrl(e.target.value);\n  };\n\n  function handleRequestBodyMethod(e) {\n    setRequestBody(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const name = e.target.api.value;\n    const data = {\n      method: crudMethod,\n      name: name\n    };\n    dispatch(addAction(data));\n    e.target.reset();\n  }\n\n  function apiReducer(state = initialState, action) {\n    const {\n      type,\n      payload\n    } = action;\n\n    switch (type) {\n      case \"ADD_API\":\n        const api = [...state.api, payload.method, payload.name];\n        return {\n          api\n        };\n\n      case \"REMOVE_API\":\n        const peopleWithoutPerson = state.api.filter(api => api !== payload);\n        return {\n          api: peopleWithoutPerson\n        };\n\n      case \"EMPTY_API\":\n        return initialState;\n\n      default:\n        return state;\n    }\n  }\n\n  let addAction = name => {\n    return {\n      type: \"ADD_API\",\n      payload: name\n    };\n  };\n\n  let removeAction = name => {\n    return {\n      type: \"REMOVE_API\",\n      payload: name\n    };\n  };\n\n  let emptyAction = () => {\n    return {\n      type: \"EMPTY_API\"\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: state.api.map((api, indx) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => dispatch(removeAction(api)),\n          children: api\n        }, indx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"URL: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"api\",\n          type: \"text\",\n          onChange: urlHandlerFetching,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"submit\",\n          children: \"GO!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(emptyAction()),\n          children: \"Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"methods\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          type: \"button\",\n          id: \"get\",\n          onClick: getHandlerMethod,\n          children: \"GET\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          type: \"button\",\n          id: \"post\",\n          onClick: postHandlerMethod,\n          children: \" POST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          type: \"button\",\n          id: \"put\",\n          onClick: updateHandlerMethod,\n          children: \"  PUT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          type: \"button\",\n          id: \"delete\",\n          onClick: deleteHandlerMethod,\n          children: \"DELETE \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), displayTextarea && /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"postAndPut\",\n        rows: \"10\",\n        cols: \"35\",\n        onChange: handleRequestBodyMethod\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Form, \"7X+4gULQF/snBTpa3KEVEY7tjFY=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/home/noor/ASAC/resty/starter-code/src/components/form/index.js"],"names":["React","useState","useReducer","Form","props","displayTextarea","setdisplayTextarea","crudMethod","setcrudMethod","fetchurl","setUrl","reqBody","setRequestBody","initialState","api","state","dispatch","apiReducer","getHandlerMethod","e","target","id","postHandlerMethod","updateHandlerMethod","deleteHandlerMethod","urlHandlerFetching","value","handleRequestBodyMethod","handleSubmit","preventDefault","name","data","method","addAction","reset","action","type","payload","peopleWithoutPerson","filter","removeAction","emptyAction","map","indx"],"mappings":"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","sourcesContent":["'use strict'\n\n\n\nimport React, { useState } from 'react';\nimport { useReducer } from \"react\";\nimport './form.scss';\n\n\nfunction Form(props) {\n\n\n  let [displayTextarea, setdisplayTextarea] = useState(false);\n  let [crudMethod, setcrudMethod] = useState(\"get\");\n  let [fetchurl, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\");\n  let [reqBody, setRequestBody] = useState(\"\");\n\n\n\n  const initialState = {\n    api: [],\n  };\n\n  const [state, dispatch] = useReducer(apiReducer, initialState);\n\n  function getHandlerMethod(e) {\n    setcrudMethod(e.target.id);\n  }\n\n\n  function postHandlerMethod(e) {\n    setdisplayTextarea(!displayTextarea);\n    setcrudMethod(e.target.id);\n  }\n  function updateHandlerMethod(e) {\n    setdisplayTextarea(!displayTextarea);\n    setcrudMethod(e.target.id);\n  }\n\n  function deleteHandlerMethod(e) {\n    setcrudMethod(e.target.id);\n  }\n\n  let urlHandlerFetching = async (e) => {\n    setUrl(e.target.value);\n  };\n\n  function handleRequestBodyMethod(e) {\n    setRequestBody(e.target.value);\n  }\n  \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const name = e.target.api.value;\n    const data = {\n      method: crudMethod,\n      name: name,\n    };\n    dispatch(addAction(data));\n    e.target.reset();\n  }\n\n\n\n  function apiReducer(state = initialState, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case \"ADD_API\":\n        const api = [...state.api, payload.method, payload.name];\n        return { api };\n      case \"REMOVE_API\":\n        const peopleWithoutPerson = state.api.filter((api) => api !== payload);\n        return { api: peopleWithoutPerson };\n      case \"EMPTY_API\":\n        return initialState;\n      default:\n        return state;\n    }\n  }\n\n\n  let addAction = (name) => {\n    return {\n      type: \"ADD_API\",\n      payload: name,\n    };\n  };\n\n\n  let removeAction = (name) => {\n    return {\n      type: \"REMOVE_API\",\n      payload: name,\n    };\n  };\n\n\n\n  let emptyAction = () => {\n    return {\n      type: \"EMPTY_API\",\n    };\n  };\n\n\n\n  return (\n    <>\n      <h1>History</h1>\n      <ul>\n\n\n\n        {state.api.map((api, indx) => {\n\n\n          return (\n\n\n            <li key={indx} onClick={() => dispatch(removeAction(api))}>\n              {api}\n            </li>\n          );\n\n\n        })}\n\n\n      </ul>\n\n\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>URL: </span>\n          <input name=\"api\" type=\"text\" onChange={urlHandlerFetching} required />\n          <button type=\"submit\" data-testid=\"submit\">\n            GO!\n          </button>\n          <button onClick={() => dispatch(emptyAction())}>Clear All</button>\n        </label>\n        <label className=\"methods\">\n          <button className=\"button\" type=\"button\" id=\"get\" onClick={getHandlerMethod}>GET</button>\n          <button className=\"button\" type=\"button\" id=\"post\" onClick={postHandlerMethod} > POST</button>\n          <button  className=\"button\"type=\"button\" id=\"put\" onClick={updateHandlerMethod}>  PUT</button>\n          <button className=\"button\" type=\"button\"id=\"delete\" onClick={deleteHandlerMethod}>DELETE </button>\n        </label>\n        {displayTextarea && (<textarea name=\"postAndPut\"rows=\"10\"cols=\"35\" onChange={handleRequestBodyMethod}/>)}\n      </form>\n    </>\n  );\n}\n\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}