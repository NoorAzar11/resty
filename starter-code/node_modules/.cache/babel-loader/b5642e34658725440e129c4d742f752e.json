{"ast":null,"code":"'use strict';\n\nvar _jsxFileName = \"/home/noor/ASAC/resty/starter-code/src/components/form/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useReducer } from \"react\";\nimport './form.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Form(props) {\n  _s();\n\n  let [showPostTextArea, setShowPostTextArea] = useState(false);\n  let [method, setMethod] = useState(\"get\");\n  let [url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\");\n  let [requestBody, setRequestBody] = useState(\"\");\n  const initialState = {\n    api: []\n  };\n  const [state, dispatch] = useReducer(apiReducer, initialState);\n\n  function getHandler(e) {\n    setMethod(e.target.id);\n  }\n\n  function postHandler(e) {\n    setShowPostTextArea(!showPostTextArea);\n    setMethod(e.target.id);\n  }\n\n  function updateHandler(e) {\n    setShowPostTextArea(!showPostTextArea);\n    setMethod(e.target.id);\n  }\n\n  function deleteHandler(e) {\n    setMethod(e.target.id);\n  }\n\n  let urlHandler = async e => {\n    setUrl(e.target.value);\n  };\n\n  function handleRequestBody(e) {\n    setRequestBody(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const name = e.target.api.value;\n    const data = {\n      method: method,\n      name: name\n    };\n    dispatch(addAction(data));\n    e.target.reset();\n  }\n\n  function apiReducer(state = initialState, action) {\n    const {\n      type,\n      payload\n    } = action;\n\n    switch (type) {\n      case \"ADD_API\":\n        const api = [...state.api, payload.method, payload.name];\n        return {\n          api\n        };\n\n      case \"REMOVE_API\":\n        const peopleWithoutPerson = state.api.filter(api => api !== payload);\n        return {\n          api: peopleWithoutPerson\n        };\n\n      case \"EMPTY_API\":\n        return initialState;\n\n      default:\n        return state;\n    }\n  }\n\n  let addAction = name => {\n    return {\n      type: \"ADD_API\",\n      payload: name\n    };\n  };\n\n  let removeAction = name => {\n    return {\n      type: \"REMOVE_API\",\n      payload: name\n    };\n  };\n\n  let emptyAction = () => {\n    return {\n      type: \"EMPTY_API\"\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: state.api.map((api, indx) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => dispatch(removeAction(api)),\n          children: api\n        }, indx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"URL: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"api\",\n          type: \"text\",\n          onChange: urlHandler,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"submit\",\n          children: \"GO!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(emptyAction()),\n          children: \"Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"methods\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"butt\",\n          type: \"button\",\n          id: \"get\",\n          onClick: getHandler,\n          children: \"GET\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"butt\",\n          type: \"button\",\n          id: \"post\",\n          onClick: postHandler,\n          children: \" POST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"butt\",\n          type: \"button\",\n          id: \"put\",\n          onClick: updateHandler,\n          children: \"  PUT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"butt\",\n          type: \"button\",\n          id: \"delete\",\n          onClick: deleteHandler,\n          children: \"DELETE \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), showPostTextArea && /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"postAndPut\",\n        rows: \"10\",\n        cols: \"35\",\n        onChange: handleRequestBody\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Form, \"FPGTSe5zottrmi6WBpfTIq0uTkM=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/home/noor/ASAC/resty/starter-code/src/components/form/index.js"],"names":["React","useState","useReducer","Form","props","showPostTextArea","setShowPostTextArea","method","setMethod","url","setUrl","requestBody","setRequestBody","initialState","api","state","dispatch","apiReducer","getHandler","e","target","id","postHandler","updateHandler","deleteHandler","urlHandler","value","handleRequestBody","handleSubmit","preventDefault","name","data","addAction","reset","action","type","payload","peopleWithoutPerson","filter","removeAction","emptyAction","map","indx"],"mappings":"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","sourcesContent":["'use strict'\n\n\n\nimport React, { useState } from 'react';\nimport { useReducer } from \"react\";\nimport './form.scss';\n\n\nfunction Form(props) {\n\n\n  let [showPostTextArea, setShowPostTextArea] = useState(false);\n  let [method, setMethod] = useState(\"get\");\n  let [url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\");\n  let [requestBody, setRequestBody] = useState(\"\");\n\n\n\n  const initialState = {\n    api: [],\n  };\n\n  const [state, dispatch] = useReducer(apiReducer, initialState);\n\n  function getHandler(e) {\n    setMethod(e.target.id);\n  }\n\n\n  function postHandler(e) {\n    setShowPostTextArea(!showPostTextArea);\n    setMethod(e.target.id);\n  }\n  function updateHandler(e) {\n    setShowPostTextArea(!showPostTextArea);\n    setMethod(e.target.id);\n  }\n\n  function deleteHandler(e) {\n    setMethod(e.target.id);\n  }\n\n  let urlHandler = async (e) => {\n    setUrl(e.target.value);\n  };\n\n  function handleRequestBody(e) {\n    setRequestBody(e.target.value);\n  }\n  \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const name = e.target.api.value;\n    const data = {\n      method: method,\n      name: name,\n    };\n    dispatch(addAction(data));\n    e.target.reset();\n  }\n\n  function apiReducer(state = initialState, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case \"ADD_API\":\n        const api = [...state.api, payload.method, payload.name];\n        return { api };\n      case \"REMOVE_API\":\n        const peopleWithoutPerson = state.api.filter((api) => api !== payload);\n        return { api: peopleWithoutPerson };\n      case \"EMPTY_API\":\n        return initialState;\n      default:\n        return state;\n    }\n  }\n\n  let addAction = (name) => {\n    return {\n      type: \"ADD_API\",\n      payload: name,\n    };\n  };\n\n  let removeAction = (name) => {\n    return {\n      type: \"REMOVE_API\",\n      payload: name,\n    };\n  };\n\n  let emptyAction = () => {\n    return {\n      type: \"EMPTY_API\",\n    };\n  };\n\n  return (\n    <>\n      <h1>History</h1>\n      <ul>\n        {state.api.map((api, indx) => {\n          return (\n            <li key={indx} onClick={() => dispatch(removeAction(api))}>\n              {api}\n            </li>\n          );\n        })}\n      </ul>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>URL: </span>\n          <input name=\"api\" type=\"text\" onChange={urlHandler} required />\n          <button type=\"submit\" data-testid=\"submit\">\n            GO!\n          </button>\n          <button onClick={() => dispatch(emptyAction())}>Clear All</button>\n        </label>\n        <label className=\"methods\">\n          <button className=\"butt\" type=\"button\" id=\"get\" onClick={getHandler}>GET</button>\n          <button className=\"butt\" type=\"button\" id=\"post\" onClick={postHandler} > POST</button>\n          <button  className=\"butt\"type=\"button\" id=\"put\" onClick={updateHandler}>  PUT</button>\n          <button className=\"butt\" type=\"button\"id=\"delete\" onClick={deleteHandler}>DELETE </button>\n        </label>\n        {showPostTextArea && (<textarea name=\"postAndPut\"rows=\"10\"cols=\"35\" onChange={handleRequestBody}/>)}\n      </form>\n    </>\n  );\n}\n\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}